{% extends "base.html" %}

{% block title %}Leonardo Murakami - Site Reliability Engineer{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="min-h-screen bg-gradient-to-b from-sky-200 via-blue-100 to-orange-100 dark:from-black dark:via-slate-950 dark:to-slate-800 flex items-center relative overflow-hidden">
    <!-- Theme-Specific Background -->
    <div class="absolute inset-0 overflow-hidden">
        <!-- Night Sky Elements (Dark Mode) -->
        <div class="stars-far absolute inset-0 dark:block hidden"></div>
        <div class="stars-mid absolute inset-0 dark:block hidden"></div>
        <div class="stars-near absolute inset-0 dark:block hidden"></div>
        <div class="shooting-stars absolute inset-0 dark:block hidden"></div>
        
        <!-- Morning Sky Elements (Light Mode) -->
        <div class="morning-clouds-1 absolute inset-0 block dark:hidden"></div>
        <div class="morning-clouds-2 absolute inset-0 block dark:hidden"></div>
        <div class="morning-clouds-3 absolute inset-0 block dark:hidden"></div>
        <div class="morning-balloons absolute inset-0 block dark:hidden"></div>
        <div class="morning-birds-1 absolute inset-0 block dark:hidden"></div>
        <div class="morning-birds-2 absolute inset-0 block dark:hidden"></div>

    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Text Content -->
            <div class="fade-in">
                <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-slate-800 dark:text-white mb-6">
                    Hi, I'm 
                    <span class="text-cyan-600 dark:text-cyan-400">Mura</span>
                </h1>
                <p class="text-xl text-slate-700 dark:text-gray-100 mb-8 leading-relaxed">
                    Building reliable systems, one deployment at a time. A passionate Site Reliability Engineer 
                    who loves creating robust infrastructure and ensuring things just work. Welcome to my digital space!
                </p>
                <div class="flex flex-col sm:flex-row gap-4">
                    <a href="/projects" 
                       class="inline-flex items-center px-6 py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-lg transition-colors duration-200 shadow-lg hover:shadow-xl">
                        <i class="fas fa-code mr-2"></i>
                        View My Work
                    </a>
                    <a href="/contact" 
                       class="inline-flex items-center px-6 py-3 border border-cyan-600 dark:border-cyan-400 text-cyan-600 dark:text-cyan-400 font-medium rounded-lg hover:bg-cyan-600 dark:hover:bg-cyan-400 hover:text-white dark:hover:text-slate-900 transition-colors duration-200 shadow-lg">
                        <i class="fas fa-envelope mr-2"></i>
                        Get In Touch
                    </a>
                </div>
            </div>
            
            <!-- Cosmic Profile Section -->
            <div class="flex justify-center lg:justify-end">
                <div class="relative">
                    <!-- Theme-adaptive hero element -->
                    <div class="hero-element w-80 h-80 rounded-full flex items-center justify-center p-12 relative overflow-hidden">
                        <!-- Dark theme: Cosmic portal -->
                        <div class="absolute inset-0 rounded-full bg-gradient-to-br from-purple-900/30 via-blue-800/20 to-transparent animate-pulse dark:block hidden"></div>
                        <div class="absolute inset-4 rounded-full bg-gradient-to-tr from-cyan-500/10 via-transparent to-purple-600/15 animate-pulse dark:block hidden" style="animation-delay: 1s; animation-duration: 3s;"></div>
                        <div class="absolute inset-8 rounded-full bg-gradient-to-bl from-transparent via-blue-400/10 to-indigo-700/20 animate-pulse dark:block hidden" style="animation-delay: 2s; animation-duration: 4s;"></div>
                        <!-- Cosmic orbital rings -->
                        <div class="absolute inset-0 rounded-full border border-cyan-300/20 animate-spin dark:block hidden" style="animation-duration: 20s;"></div>
                        <div class="absolute inset-6 rounded-full border border-purple-400/15 animate-spin dark:block hidden" style="animation-duration: 15s; animation-direction: reverse;"></div>
                        
                        <!-- Light theme: Sun with rays -->
                        <div class="absolute inset-0 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-400 block dark:hidden sun-glow"></div>
                        <div class="absolute inset-2 rounded-full bg-gradient-to-tr from-yellow-200 via-yellow-300 to-orange-300 block dark:hidden animate-pulse" style="animation-duration: 4s;"></div>
                        <div class="absolute inset-6 rounded-full bg-gradient-to-bl from-yellow-100 via-yellow-200 to-yellow-300 block dark:hidden animate-pulse" style="animation-delay: 1s; animation-duration: 3s;"></div>
                        <!-- Sun rays -->
                        <div class="absolute inset-0 sun-rays block dark:hidden"></div>
                        
                        <!-- Central logo -->
                        <div class="relative z-10 w-48 h-48 flex items-center justify-center">
                            <img src="/static/img/logo_no_background.svg" alt="Leonardo Murakami Logo" class="w-full h-full object-contain filter drop-shadow-lg">
                        </div>
                        
                        <!-- Theme-specific glow effects -->
                        <div class="absolute inset-0 rounded-full bg-gradient-radial from-cyan-400/5 via-transparent to-transparent dark:block hidden"></div>
                        <div class="absolute inset-0 rounded-full bg-gradient-radial from-yellow-200/20 via-transparent to-transparent block dark:hidden"></div>
                    </div>
                    
                    <!-- Theme-specific floating elements -->
                    <!-- Dark theme: Cosmic elements -->
                    <div class="absolute -top-6 -right-6 w-3 h-3 bg-cyan-300 rounded-full shadow-lg shadow-cyan-300/50 animate-pulse dark:block hidden"></div>
                    <div class="absolute -top-2 -right-12 w-2 h-2 bg-purple-400 rounded-full shadow-lg shadow-purple-400/50 animate-pulse dark:block hidden" style="animation-delay: 1s;"></div>
                    <div class="absolute -bottom-6 -left-6 w-4 h-4 bg-indigo-300 rounded-full shadow-lg shadow-indigo-300/50 animate-pulse dark:block hidden" style="animation-delay: 2s;"></div>
                    <div class="absolute -bottom-2 -left-12 w-2 h-2 bg-blue-300 rounded-full shadow-lg shadow-blue-300/50 animate-pulse dark:block hidden" style="animation-delay: 0.5s;"></div>
                    <!-- Distant planets/moons (dark theme only) -->
                    <div class="absolute top-8 -left-16 w-6 h-6 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full opacity-60 animate-float dark:block hidden"></div>
                    <div class="absolute bottom-12 -right-20 w-4 h-4 bg-gradient-to-br from-amber-200 to-orange-400 rounded-full opacity-50 animate-float dark:block hidden" style="animation-delay: 3s; animation-duration: 8s;"></div>
                    
                    <!-- Light theme: Morning light sparkles -->
                    <div class="absolute -top-8 -right-8 w-2 h-2 bg-yellow-300 rounded-full shadow-lg shadow-yellow-300/70 animate-pulse block dark:hidden sparkle-animation"></div>
                    <div class="absolute -top-4 -right-16 w-1 h-1 bg-orange-200 rounded-full shadow-lg shadow-orange-200/60 animate-pulse block dark:hidden sparkle-animation" style="animation-delay: 1s;"></div>
                    <div class="absolute -bottom-8 -left-8 w-2 h-2 bg-yellow-200 rounded-full shadow-lg shadow-yellow-200/60 animate-pulse block dark:hidden sparkle-animation" style="animation-delay: 2s;"></div>
                    <div class="absolute -bottom-4 -left-16 w-1 h-1 bg-orange-300 rounded-full shadow-lg shadow-orange-300/50 animate-pulse block dark:hidden sparkle-animation" style="animation-delay: 0.5s;"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="py-16 bg-slate-800 dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="text-center">
                <div class="text-4xl font-bold text-cyan-400 mb-2">6+</div>
                <div class="text-gray-300">Years Experience</div>
            </div>
            <div class="text-center">
                <div class="text-4xl font-bold text-cyan-400 mb-2">99.9%</div>
                <div class="text-gray-300">Uptime</div>
            </div>
            <div class="text-center">
                <div class="text-4xl font-bold text-cyan-400 mb-2">âˆž</div>
                <div class="text-gray-300">Energy Drinks</div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Skills Section -->
<section class="py-16 bg-slate-700 dark:bg-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-white mb-4">
                What I Work With
            </h2>
            <p class="text-lg text-gray-200 max-w-2xl mx-auto">
                Here are some of the technologies and tools I'm passionate about
            </p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8">
            <!-- Tech Icons -->
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fab fa-python text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">Python</span>
            </div>
            
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fab fa-golang text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">Go</span>
            </div>
            
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fas fa-dharmachakra text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">Kubernetes</span>
            </div>
            
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fab fa-docker text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">Docker</span>
            </div>
            
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fas fa-cube text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">Terraform</span>
            </div>
            
            <div class="flex flex-col items-center group">
                <div class="w-16 h-16 bg-slate-600 hover:bg-slate-500 rounded-lg shadow-md flex items-center justify-center mb-3 group-hover:shadow-lg transition-all duration-200">
                    <i class="fab fa-aws text-2xl text-cyan-400"></i>
                </div>
                <span class="text-sm text-gray-200">AWS</span>
            </div>
        </div>
    </div>
</section>

<!-- Featured Projects Section -->
<section class="py-16 bg-slate-800 dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-white mb-4">
                Featured Projects
            </h2>
            <p class="text-lg text-gray-200 max-w-2xl mx-auto">
                Some of my recent work that I'm particularly proud of
            </p>
        </div>

        {% with projects=featured_projects %}
            {% include "components/project_list.html" %}
        {% endwith %}

        <div class="text-center mt-8">
            <a href="/projects"
               class="inline-flex items-center px-6 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors duration-200">
                View All Projects
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-16 bg-gradient-to-r from-cyan-600 to-blue-600 dark:from-cyan-700 dark:to-blue-700">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold text-white mb-4">
            Let's Work Together
        </h2>
        <p class="text-xl text-cyan-100 mb-8 max-w-2xl mx-auto">
            Have a project in mind? I'd love to hear about it and discuss how we can bring your ideas to life.
        </p>
        <a href="/contact" 
           class="inline-flex items-center px-8 py-4 bg-white text-cyan-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors duration-200">
            <i class="fas fa-paper-plane mr-2"></i>
            Start a Conversation
        </a>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<style>
/* Enhanced Starry sky styles with twinkling effects */
.stars-far {
    background-image: 
        /* Top area - most stars with enhanced twinkling */
        radial-gradient(1px 1px at 23px 8px, rgba(255,255,255,0.9), transparent),
        radial-gradient(1px 1px at 67px 19px, rgba(200,220,255,0.8), transparent),
        radial-gradient(2px 2px at 134px 12px, rgba(255,255,255,1), transparent),
        radial-gradient(1px 1px at 187px 25px, rgba(255,240,200,0.7), transparent),
        radial-gradient(1px 1px at 251px 6px, rgba(255,255,255,0.9), transparent),
        radial-gradient(1px 1px at 298px 31px, rgba(220,230,255,0.6), transparent),
        /* Middle area - fewer stars */
        radial-gradient(1px 1px at 45px 58px, rgba(255,255,255,0.6), transparent),
        radial-gradient(1px 1px at 156px 67px, rgba(255,240,200,0.5), transparent),
        radial-gradient(1px 1px at 278px 52px, rgba(200,220,255,0.55), transparent),
        /* Bottom area - very few stars */
        radial-gradient(1px 1px at 89px 89px, rgba(255,255,255,0.4), transparent),
        radial-gradient(1px 1px at 234px 92px, rgba(255,240,200,0.35), transparent);
    background-repeat: repeat;
    background-size: 320px 120px;
    animation: enhanced-twinkle-far 20s ease-in-out infinite;
    /* Fade out towards bottom */
    mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 85%, rgba(0,0,0,0) 100%);
    -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 60%, rgba(0,0,0,0.3) 85%, rgba(0,0,0,0) 100%);
}

.stars-mid {
    background-image: 
        /* Top area - different pattern with color variations */
        radial-gradient(1px 1px at 41px 14px, rgba(255,255,255,0.95), transparent),
        radial-gradient(2px 2px at 78px 7px, rgba(220,230,255,1), transparent),
        radial-gradient(1px 1px at 167px 28px, rgba(255,240,200,0.85), transparent),
        radial-gradient(1px 1px at 203px 11px, rgba(255,255,255,0.9), transparent),
        radial-gradient(2px 2px at 287px 22px, rgba(200,220,255,0.75), transparent),
        /* Middle area */
        radial-gradient(1px 1px at 56px 47px, rgba(255,255,255,0.7), transparent),
        radial-gradient(1px 1px at 123px 61px, rgba(255,240,200,0.6), transparent),
        radial-gradient(1px 1px at 245px 55px, rgba(220,230,255,0.65), transparent),
        /* Bottom area */
        radial-gradient(1px 1px at 67px 82px, rgba(255,255,255,0.45), transparent),
        radial-gradient(1px 1px at 189px 87px, rgba(255,240,200,0.4), transparent);
    background-repeat: repeat;
    background-size: 280px 110px;
    animation: enhanced-twinkle-mid 16s ease-in-out infinite;
    mask: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.2) 85%, rgba(0,0,0,0) 100%);
    -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.2) 85%, rgba(0,0,0,0) 100%);
}

.stars-near {
    background-image: 
        /* Top area - brightest layer with prominent twinkling */
        radial-gradient(2px 2px at 17px 16px, rgba(255,255,255,1), transparent),
        radial-gradient(1px 1px at 93px 9px, rgba(220,230,255,1), transparent),
        radial-gradient(1px 1px at 145px 23px, rgba(255,240,200,0.95), transparent),
        radial-gradient(2px 2px at 212px 5px, rgba(255,255,255,1), transparent),
        radial-gradient(1px 1px at 267px 18px, rgba(200,220,255,0.9), transparent),
        /* Middle area */
        radial-gradient(1px 1px at 34px 52px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 178px 48px, rgba(255,240,200,0.7), transparent),
        radial-gradient(1px 1px at 231px 63px, rgba(220,230,255,0.75), transparent),
        /* Bottom area */
        radial-gradient(1px 1px at 112px 85px, rgba(255,255,255,0.5), transparent),
        radial-gradient(1px 1px at 198px 91px, rgba(255,240,200,0.45), transparent);
    background-repeat: repeat;
    background-size: 300px 130px;
    animation: enhanced-twinkle-near 14s ease-in-out infinite;
    mask: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 85%, rgba(0,0,0,0) 100%);
    -webkit-mask: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.15) 85%, rgba(0,0,0,0) 100%);
}



/* Shooting stars */
.shooting-stars {
    background: transparent;
}

.shooting-star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: linear-gradient(25deg, rgba(255,255,255,0.9), transparent);
    border-radius: 50%;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.6), 0 0 3px rgba(255,255,255,0.8), 0 0 6px rgba(255,255,255,0.4);
    animation: shoot 5s ease-out infinite;
}

.shooting-star::before {
    content: '';
    position: absolute;
    top: 50%;
    right: 100%;
    width: 40px;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.7), transparent);
    transform: translateY(-50%);
}

/* Star movement animations - different for each layer */
@keyframes sparkle-far {
    0% {
        transform: translateX(0) translateY(0);
    }
    100% {
        transform: translateX(-320px) translateY(-8px);
    }
}

@keyframes sparkle-mid {
    0% {
        transform: translateX(0) translateY(0);
    }
    100% {
        transform: translateX(-280px) translateY(5px);
    }
}

@keyframes sparkle-near {
    0% {
        transform: translateX(0) translateY(0);
    }
    100% {
        transform: translateX(-300px) translateY(-3px);
    }
}

/* Enhanced twinkling animations with color variations */
@keyframes enhanced-twinkle-far {
    0%, 100% {
        opacity: 0.4;
        filter: brightness(0.8) hue-rotate(0deg);
    }
    25% {
        opacity: 0.7;
        filter: brightness(1.1) hue-rotate(5deg);
    }
    50% {
        opacity: 0.9;
        filter: brightness(1.3) hue-rotate(-5deg);
    }
    75% {
        opacity: 0.6;
        filter: brightness(0.9) hue-rotate(3deg);
    }
}

@keyframes enhanced-twinkle-mid {
    0%, 100% {
        opacity: 0.6;
        filter: brightness(0.9) hue-rotate(0deg);
    }
    20% {
        opacity: 0.8;
        filter: brightness(1.2) hue-rotate(-8deg);
    }
    60% {
        opacity: 1.1;
        filter: brightness(1.4) hue-rotate(8deg);
    }
    80% {
        opacity: 0.7;
        filter: brightness(1.0) hue-rotate(-3deg);
    }
}

@keyframes enhanced-twinkle-near {
    0%, 100% {
        opacity: 0.8;
        filter: brightness(1.0) hue-rotate(0deg);
    }
    30% {
        opacity: 1.2;
        filter: brightness(1.5) hue-rotate(-10deg);
    }
    70% {
        opacity: 1.3;
        filter: brightness(1.6) hue-rotate(10deg);
    }
}



@keyframes shoot {
    0% {
        transform: translateX(-40px) translateY(-40px) rotate(20deg);
        opacity: 0;
    }
    15% {
        opacity: 1;
    }
    85% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(250px) translateY(180px) rotate(20deg);
        opacity: 0;
    }
}

/* Parallax scrolling effect */
@media (prefers-reduced-motion: no-preference) {
    .stars-far {
        animation: sparkle-opacity 20s ease-in-out infinite;
    }
    
    .stars-mid {
        animation: sparkle-opacity 16s ease-in-out infinite;
    }
    
    .stars-near {
        animation: sparkle-opacity 14s ease-in-out infinite;
    }
}

/* Accessibility: respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .stars-far, .stars-mid, .stars-near {
        animation: none;
    }
    
    .shooting-star {
        animation: none;
    }
}

/* Additional floating particles */
.cosmic-particle {
    position: absolute;
    width: 1px;
    height: 1px;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    animation: float 10s ease-in-out infinite;
    box-shadow: 0 0 3px rgba(255, 255, 255, 0.5);
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px) translateX(0px);
        opacity: 0.3;
    }
    50% {
        transform: translateY(-20px) translateX(10px);
        opacity: 1;
    }
}

/* Hero element effects - cosmic portal for dark, sun for light */
.hero-element {
    /* Dark theme: Cosmic portal base */
    background: radial-gradient(circle at center, 
        rgba(30, 41, 59, 0.8) 0%, 
        rgba(15, 23, 42, 0.6) 40%, 
        rgba(2, 6, 23, 0.4) 70%, 
        transparent 100%);
    backdrop-filter: blur(1px);
    box-shadow: 
        0 0 30px rgba(56, 189, 248, 0.1),
        inset 0 0 30px rgba(147, 51, 234, 0.05),
        0 0 60px rgba(59, 130, 246, 0.05);
}

/* Light theme: Sun styling */
@media (prefers-color-scheme: light) {
    .hero-element {
        background: transparent;
        box-shadow: 
            0 0 40px rgba(251, 191, 36, 0.3),
            0 0 80px rgba(251, 191, 36, 0.2),
            0 0 120px rgba(251, 191, 36, 0.1);
    }
}

/* Dark theme: Cosmic rotation effect */
.hero-element::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    background: conic-gradient(from 0deg, 
        transparent, 
        rgba(56, 189, 248, 0.1), 
        transparent, 
        rgba(147, 51, 234, 0.1), 
        transparent);
    animation: cosmic-rotation 30s linear infinite;
    z-index: -1;
}

/* Hide cosmic rotation in light theme */
@media (prefers-color-scheme: light) {
    .hero-element::before {
        display: none;
    }
}

@keyframes cosmic-rotation {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Sun glow effect */
.sun-glow {
    box-shadow: 
        inset 0 0 20px rgba(255, 255, 255, 0.3),
        0 0 40px rgba(251, 191, 36, 0.4),
        0 0 80px rgba(251, 191, 36, 0.3),
        0 0 120px rgba(251, 191, 36, 0.2);
}

/* Sun rays */
.sun-rays {
    background-image: 
        linear-gradient(0deg, transparent 40%, rgba(251, 191, 36, 0.1) 50%, transparent 60%),
        linear-gradient(45deg, transparent 40%, rgba(251, 191, 36, 0.1) 50%, transparent 60%),
        linear-gradient(90deg, transparent 40%, rgba(251, 191, 36, 0.1) 50%, transparent 60%),
        linear-gradient(135deg, transparent 40%, rgba(251, 191, 36, 0.1) 50%, transparent 60%);
    animation: sun-rays-rotation 20s linear infinite;
}

@keyframes sun-rays-rotation {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
}

/* Sparkle animation for morning theme */
.sparkle-animation {
    animation: sparkle-twinkle 3s ease-in-out infinite;
}

@keyframes sparkle-twinkle {
    0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
    }
    50% { 
        opacity: 1;
        transform: scale(1.2);
    }
}

@keyframes animate-float {
    0%, 100% {
        transform: translateY(0px) translateX(0px);
    }
    25% {
        transform: translateY(-8px) translateX(2px);
    }
    50% {
        transform: translateY(-4px) translateX(-2px);
    }
    75% {
        transform: translateY(-12px) translateX(1px);
    }
}

.animate-float {
    animation: animate-float 6s ease-in-out infinite;
}

/* Radial gradient utility */
.bg-gradient-radial {
    background-image: radial-gradient(var(--tw-gradient-stops));
}

/* Morning Sky Elements (Light Mode) - Cartoonish puffy clouds */

/* Far clouds - big puffy cartoon clouds with seamless looping */
.morning-clouds-1 {
    background-image: 
        /* Puffy cloud 1 - made of overlapping circles */
        radial-gradient(circle 40px at 10% 25%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 35px at 13% 23%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 30px at 16% 27%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 25px at 8% 27%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        
        /* Puffy cloud 2 */
        radial-gradient(circle 45px at 35% 20%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 38px at 38% 18%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 32px at 41% 22%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 28px at 33% 22%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        
        /* Puffy cloud 3 */
        radial-gradient(circle 50px at 65% 18%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 40px at 68% 16%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 35px at 71% 20%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 30px at 63% 20%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        
        /* Puffy cloud 4 */
        radial-gradient(circle 42px at 80% 22%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 36px at 83% 20%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 30px at 86% 24%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 26px at 78% 24%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.2) 70%, transparent);
    
    background-size: 800px 200px;
    background-repeat: repeat-x;
    background-position: 0 0;
    will-change: background-position;
    animation: float-clouds-slow 100s linear infinite;
    opacity: 0.6;
}

/* Mid clouds - medium puffy clouds with seamless looping */
.morning-clouds-2 {
    background-image: 
        /* Smaller puffy clouds */
        radial-gradient(circle 32px at 15% 35%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 28px at 18% 33%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 24px at 21% 37%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2) 70%, transparent),
        
        radial-gradient(circle 35px at 45% 30%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 30px at 48% 28%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 26px at 51% 32%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2) 70%, transparent),
        
        radial-gradient(circle 38px at 75% 33%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent),
        radial-gradient(circle 32px at 78% 31%, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.2) 70%, transparent),
        radial-gradient(circle 28px at 81% 35%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2) 70%, transparent);
    
    background-size: 600px 150px;
    background-repeat: repeat-x;
    background-position: 0 0;
    will-change: background-position;
    animation: float-clouds-medium 80s linear infinite;
    opacity: 0.7;
}

/* Near clouds - small puffy details with seamless looping */
.morning-clouds-3 {
    background-image: 
        /* Tiny puffy clouds */
        radial-gradient(circle 20px at 20% 45%, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.4) 70%, transparent),
        radial-gradient(circle 18px at 22% 43%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent),
        
        radial-gradient(circle 22px at 50% 40%, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.4) 70%, transparent),
        radial-gradient(circle 19px at 52% 38%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent),
        
        radial-gradient(circle 24px at 80% 42%, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.4) 70%, transparent),
        radial-gradient(circle 20px at 82% 40%, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.3) 70%, transparent);
    
    background-size: 400px 100px;
    background-repeat: repeat-x;
    background-position: 0 0;
    will-change: background-position;
    animation: float-clouds-fast 60s linear infinite;
    opacity: 0.8;
}

@keyframes float-clouds-slow {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: -800px 0;
    }
}

@keyframes float-clouds-medium {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: -600px 0;
    }
}

@keyframes float-clouds-fast {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: -400px 0;
    }
}

/* Hot Air Balloons - distant and colorful */
.morning-balloons {
    background-image: 
        /* Balloon 1 - red/yellow */
        radial-gradient(ellipse 8px 12px at 15% 60%, #ff4444, #ff6666 40%, transparent 70%),
        radial-gradient(ellipse 6px 8px at 15% 60%, #ffaa00, #ffcc44 40%, transparent 70%),
        radial-gradient(ellipse 4px 6px at 15% 60%, #ff8888, transparent 50%),
        /* Balloon 1 basket - small square */
        radial-gradient(circle 2px at 15% 66%, #8b4513, #a0522d 60%, transparent 70%),
        
        /* Balloon 2 - blue/green */
        radial-gradient(ellipse 10px 14px at 45% 55%, #4444ff, #6666ff 40%, transparent 70%),
        radial-gradient(ellipse 7px 9px at 45% 55%, #44ff44, #66ff66 40%, transparent 70%),
        radial-gradient(ellipse 5px 7px at 45% 55%, #88ff88, transparent 50%),
        /* Balloon 2 basket - small square */
        radial-gradient(circle 2px at 45% 62%, #8b4513, #a0522d 60%, transparent 70%),
        
        /* Balloon 3 - purple/pink */
        radial-gradient(ellipse 9px 13px at 75% 58%, #aa44aa, #cc66cc 40%, transparent 70%),
        radial-gradient(ellipse 6px 8px at 75% 58%, #ff44aa, #ff66cc 40%, transparent 70%),
        radial-gradient(ellipse 4px 6px at 75% 58%, #ffaacc, transparent 50%),
        /* Balloon 3 basket - small square */
        radial-gradient(circle 2px at 75% 64%, #8b4513, #a0522d 60%, transparent 70%),
        
        /* Distant balloon 4 - orange */
        radial-gradient(ellipse 6px 9px at 85% 62%, #ff8800, #ffaa44 40%, transparent 70%),
        /* Balloon 4 basket - smallest square */
        radial-gradient(circle 1px at 85% 67%, #8b4513, transparent 60%);
    
    background-size: 1200px 400px;
    background-repeat: repeat-x;
    background-position: 0 0;
    will-change: background-position;
    animation: float-balloons 150s linear infinite;
    opacity: 0.7;
}

@keyframes float-balloons {
    0% {
        background-position: 0 0;
        transform: translateY(0px);
    }
    25% {
        transform: translateY(-5px);
    }
    50% {
        transform: translateY(3px);
    }
    75% {
        transform: translateY(-2px);
    }
    100% {
        background-position: -1200px 0;
        transform: translateY(0px);
    }
}

/* Animated Birds - containers for randomly generated birds */
.morning-birds-1 {
    background: transparent;
    opacity: 1;
}

.morning-birds-2 {
    background: transparent;
    opacity: 1;
}

/* Bird animation styles for randomly generated birds */
.flying-bird {
    position: absolute;
    width: 4px;
    height: 3px;
    background: #000000;
    border-radius: 50%;
    z-index: 10;
    box-shadow: 0 0 1px rgba(0,0,0,0.6);
}

.flying-bird::before {
    content: '';
    position: absolute;
    width: 3px;
    height: 2px;
    background: #000000;
    border-radius: 50%;
    top: 0;
    left: -1px;
    transform: rotate(-20deg);
    box-shadow: 0 0 1px rgba(0,0,0,0.5);
}

.flying-bird::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 2px;
    background: #000000;
    border-radius: 50%;
    top: 0;
    right: -1px;
    transform: rotate(20deg);
    box-shadow: 0 0 1px rgba(0,0,0,0.5);
}

@keyframes fly-across-slow {
    0% {
        transform: translateX(-50px) translateY(0px);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    90% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(calc(100vw + 50px)) translateY(-8px);
        opacity: 0;
    }
}

@keyframes fly-across-medium {
    0% {
        transform: translateX(-50px) translateY(0px);
        opacity: 0;
    }
    12% {
        opacity: 0.8;
    }
    88% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(calc(100vw + 50px)) translateY(-12px);
        opacity: 0;
    }
}

@keyframes fly-across-fast {
    0% {
        transform: translateX(-50px) translateY(0px);
        opacity: 0;
    }
    15% {
        opacity: 0.8;
    }
    85% {
        opacity: 0.8;
    }
    100% {
        transform: translateX(calc(100vw + 50px)) translateY(-15px);
        opacity: 0;
    }
}



/* Additional responsive adjustments for sun */
@media (max-width: 768px) {
    .sun-rays {
        opacity: 0.7;
    }
    
    .sun-glow {
        box-shadow: 
            inset 0 0 15px rgba(255, 255, 255, 0.3),
            0 0 25px rgba(251, 191, 36, 0.3),
            0 0 50px rgba(251, 191, 36, 0.2);
    }
    
    /* Mobile adjustments for balloons */
    .morning-balloons {
        opacity: 0.5;
        animation-duration: 200s; /* Slower on mobile */
    }
    
    /* Mobile adjustments for birds */
    .flying-bird {
        width: 3px;
        height: 2px;
    }
    
    .flying-bird::before,
    .flying-bird::after {
        width: 2px;
        height: 1px;
    }
}

/* Accessibility: respect reduced motion preference for all animations */
@media (prefers-reduced-motion: reduce) {
    .morning-balloons,
    .flying-bird,
    .stars-far,
    .stars-mid,
    .stars-near {
        animation: none !important;
    }
}
</style>

<script>
class SkyBackground {
    constructor() {
        this.init();
        this.observeThemeChanges();
    }

    init() {
        this.updateThemeElements();
        this.addParallaxEffect();
    }

    updateThemeElements() {
        // Clear any existing intervals first
        this.cleanup();
        
        // Check theme using the same logic as base.html
        const isDark = document.documentElement.classList.contains('dark');
        
        console.log('Theme detected:', isDark ? 'dark' : 'light');
        console.log('Document has dark class:', isDark);
        
        if (isDark) {
            console.log('Creating night sky elements...');
            this.createNightSkyElements();
        } else {
            console.log('Creating morning sky elements...');
            this.createMorningSkyElements();
        }
    }

    createNightSkyElements() {
        this.createShootingStars();
        this.createCosmicParticles();
    }

    createMorningSkyElements() {
        console.log('Creating morning sky elements...');
        // Morning elements are handled by CSS clouds
        this.createRandomBirds();
    }

    observeThemeChanges() {
        // Watch for theme changes
        const observer = new MutationObserver(() => {
            this.updateThemeElements();
        });
        
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['class']
        });
        
        // Also listen to system theme changes
        if (window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                this.updateThemeElements();
            });
        }
    }

    createShootingStars() {
        const shootingStarsContainer = document.querySelector('.shooting-stars');
        if (!shootingStarsContainer) return;

        // Create multiple shooting stars with different timings - less frequent
        for (let i = 0; i < 2; i++) {
            setTimeout(() => {
                this.createShootingStar(shootingStarsContainer);
            }, i * 8000 + Math.random() * 4000);
        }

        // Continue creating shooting stars periodically
        setInterval(() => {
            if (Math.random() < 0.3) { // 30% chance every interval
                this.createShootingStar(shootingStarsContainer);
            }
        }, 5000);
    }

    createShootingStar(container) {
        const star = document.createElement('div');
        star.className = 'shooting-star';
        
        // Random starting position - concentrated in upper area
        const startX = Math.random() * window.innerWidth;
        const startY = Math.random() * (window.innerHeight / 3); // Only upper third
        
        star.style.left = startX + 'px';
        star.style.top = startY + 'px';
        
        container.appendChild(star);
        
        // Remove after animation completes
        setTimeout(() => {
            if (star.parentNode) {
                star.parentNode.removeChild(star);
            }
        }, 5000);
    }

    createCosmicParticles() {
        const heroSection = document.querySelector('section');
        if (!heroSection) return;

        // Create floating cosmic particles - fewer to not overwhelm the star field
        for (let i = 0; i < 8; i++) {
            setTimeout(() => {
                this.createCosmicParticle(heroSection);
            }, i * 800);
        }
    }



    createRandomBirds() {
        const heroSection = document.querySelector('section');
        if (!heroSection) return;

        // Create initial birds with much longer delays
        for (let i = 0; i < 2; i++) {
            setTimeout(() => {
                if (Math.random() < 0.6) { // Only 60% chance for initial birds
                    this.createRandomBirdFormation(heroSection);
                }
            }, i * 8000 + Math.random() * 5000); // 8-13 second delays
        }

        // Continue creating formations at much longer intervals
        setInterval(() => {
            if (Math.random() < 0.25) { // Only 25% chance every interval
                this.createRandomBirdFormation(heroSection);
            }
        }, 15000); // Every 15 seconds

        // Solo birds even less frequent
        setInterval(() => {
            if (Math.random() < 0.35) { // Only 35% chance for solo birds
                this.createSoloBird(heroSection);
            }
        }, 12000); // Every 12 seconds
    }

    createRandomBirdFormation(container) {
        const formationType = Math.random();
        const baseY = Math.random() * (window.innerHeight * 0.4); // Upper 40% of screen
        const startX = -50;
        
        if (formationType < 0.6) {
            // V-formation (60% chance)
            this.createVFormation(container, startX, baseY);
        } else {
            // Small flock (40% chance)
            this.createSmallFlock(container, startX, baseY);
        }
    }

    createVFormation(container, startX, baseY) {
        const birds = [
            { x: 0, y: 0 },      // Lead bird
            { x: -8, y: 8 },     // Left wing
            { x: -16, y: 16 },
            { x: -24, y: 24 },
            { x: 8, y: 8 },      // Right wing
            { x: 16, y: 16 },
            { x: 24, y: 24 }
        ];

        birds.forEach((bird, index) => {
            setTimeout(() => {
                this.createFlyingBird(container, startX + bird.x, baseY + bird.y);
            }, index * 300); // Stagger bird appearances
        });
    }

    createSmallFlock(container, startX, baseY) {
        const birds = [
            { x: 0, y: 0 },
            { x: 5, y: -3 },
            { x: 10, y: 2 },
            { x: -5, y: 5 }
        ];

        birds.forEach((bird, index) => {
            setTimeout(() => {
                this.createFlyingBird(container, startX + bird.x, baseY + bird.y);
            }, index * 200);
        });
    }

    createSoloBird(container) {
        const y = Math.random() * (window.innerHeight * 0.5);
        this.createFlyingBird(container, -30, y);
    }

    createFlyingBird(container, startX, startY) {
        const bird = document.createElement('div');
        bird.className = 'flying-bird';
        
        // Random speed variations
        const speeds = [
            { animation: 'fly-across-slow', duration: 12000 },    // 12s - slow birds
            { animation: 'fly-across-medium', duration: 8000 },   // 8s - medium birds  
            { animation: 'fly-across-fast', duration: 5000 }      // 5s - fast birds
        ];
        
        const speed = speeds[Math.floor(Math.random() * speeds.length)];
        
        bird.style.left = startX + 'px';
        bird.style.top = startY + 'px';
        bird.style.position = 'absolute';
        bird.style.zIndex = '10';
        bird.style.animation = `${speed.animation} ${speed.duration}ms linear forwards`;
        
        // Add small random vertical movement during flight
        const verticalVariation = (Math.random() - 0.5) * 20;
        bird.style.setProperty('--vertical-offset', verticalVariation + 'px');
        
        container.appendChild(bird);
        
        // Remove bird after animation completes (add extra time buffer)
        setTimeout(() => {
            if (bird.parentNode) {
                bird.parentNode.removeChild(bird);
            }
        }, speed.duration + 500);
    }





    cleanup() {
        // Cleanup any intervals if needed
    }

    createCosmicParticle(container) {
        const particle = document.createElement('div');
        particle.className = 'cosmic-particle';
        
        // Random position - more concentrated in upper 70% of screen
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * (window.innerHeight * 0.7);
        
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        particle.style.animationDelay = Math.random() * 6 + 's';
        
        container.appendChild(particle);
    }

    addParallaxEffect() {
        let ticking = false;
        
        const updateParallax = () => {
            const scrolled = window.pageYOffset;
            const starsFar = document.querySelector('.stars-far');
            const starsMid = document.querySelector('.stars-mid');
            const starsNear = document.querySelector('.stars-near');
            
            if (starsFar) {
                starsFar.style.transform = `translateY(${scrolled * 0.2}px)`;
            }
            if (starsMid) {
                starsMid.style.transform = `translateY(${scrolled * 0.4}px)`;
            }
            if (starsNear) {
                starsNear.style.transform = `translateY(${scrolled * 0.6}px)`;
            }
            
            ticking = false;
        };
        
        const requestTick = () => {
            if (!ticking) {
                requestAnimationFrame(updateParallax);
                ticking = true;
            }
        };
        
        // Only add parallax if user hasn't requested reduced motion
        if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            window.addEventListener('scroll', requestTick, { passive: true });
        }
    }
}

// Initialize the sky background when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    // Small delay to ensure theme initialization from base.html completes
    setTimeout(() => {
        const skyBg = new SkyBackground();
    }, 100);
});
</script>
{% endblock %}
